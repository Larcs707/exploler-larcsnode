import{d as I,K as U,k as w,i as g,a9 as S,j as C,o as c,l as i,n,F as M,p as N,J as j,t as d,q as f,m as q}from"./index-fdd22029.js";import{_ as x}from"./PaginationBar.vue_vue_type_script_setup_true_lang-31d066d0.js";import{b as k}from"./route-block-83d24a4e.js";const A={class:"overflow-auto bg-base-100"},D={class:"table table-compact"},F=n("thead",{class:"bg-base-200"},[n("tr",null,[n("td",null,"Logo"),n("td",null,"Token"),n("td",null,"Amount"),n("td",null,"Info"),n("td",null,"Base")])],-1),P={class:"hover"},V=["src"],L=I({__name:"index",props:["chain"],setup(E){const v=U(),p=w(),_=g([]),m=g(new S),b=g({});C(()=>{h(1)});function R(a){var t;const s=(t=p.current)==null?void 0:t.assets;if(s){const e=s.find(o=>o.base===a);if(e)return e}}async function B(a,s){var o,l,r;const t=s.find(u=>u.base.endsWith(a));let e=R(a);if(e&&t)e={...t,...e},e.display=t.display,e.logo=((o=e.logo_URIs)==null?void 0:o.svg)||((l=e.logo_URIs)==null?void 0:l.png)||((r=e.logo_URIs)==null?void 0:r.jpeg)||void 0;else if(t)return t;return e}function h(a){m.value.setPage(a),p.rpc.getBankDenomMetadata().then(async s=>{const t=await p.rpc.getBankSupply(m.value);_.value=await Promise.all(t.supply.map(async e=>{var r,u,y;const o=await B(e.denom,s.metadatas),l=(o==null?void 0:o.symbol)||e.denom;return{denom:l.split("/")[l.split("/").length-1].toUpperCase(),amount:v.tokenAmountNumber({amount:e.amount,denom:l}).toString(),base:o.base||e.denom,info:o.display||e.denom,logo:((r=o==null?void 0:o.logo_URIs)==null?void 0:r.svg)||((u=o==null?void 0:o.logo_URIs)==null?void 0:u.png)||((y=o==null?void 0:o.logo_URIs)==null?void 0:y.jpeg)||"/logo.svg"}})),b.value=t.pagination})}return(a,s)=>(c(),i("div",A,[n("table",D,[F,(c(!0),i(M,null,N(f(_),t=>(c(),i("tr",P,[n("td",null,[t.logo?(c(),i("img",{key:0,src:t.logo,class:"w-7 h-7"},null,8,V)):j("",!0)]),n("td",null,d(t.denom),1),n("td",null,d(t.amount),1),n("td",null,d(t.info),1),n("td",null,d(t.base),1)]))),256))]),q(x,{limit:f(m).limit,total:f(b).total,callback:h},null,8,["limit","total"])]))}});typeof k=="function"&&k(L);export{L as default};
